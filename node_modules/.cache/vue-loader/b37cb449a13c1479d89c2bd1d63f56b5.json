{"remainingRequest":"c:\\Users\\Administrator\\Desktop\\music\\vue\\vue1\\语桥\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!c:\\Users\\Administrator\\Desktop\\music\\vue\\vue1\\语桥\\src\\components\\tinymce.vue?vue&type=script&lang=js&","dependencies":[{"path":"c:\\Users\\Administrator\\Desktop\\music\\vue\\vue1\\语桥\\src\\components\\tinymce.vue","mtime":1577329941119},{"path":"c:\\Users\\Administrator\\Desktop\\music\\vue\\vue1\\语桥\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"c:\\Users\\Administrator\\Desktop\\music\\vue\\vue1\\语桥\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"c:\\Users\\Administrator\\Desktop\\music\\vue\\vue1\\语桥\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"c:\\Users\\Administrator\\Desktop\\music\\vue\\vue1\\语桥\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge3NhdmVBcnRpY2xlfSBmcm9tICJAL2FwaS9pbmRleC5qcyI7DQoNCmltcG9ydCBFZGl0b3IgZnJvbSAiQHRpbnltY2UvdGlueW1jZS12dWUiOw0KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBmb3JtOiB7DQogICAgICAgIHRpdGxlOiAiIiwNCiAgICAgICAgc2VjdGlvbm5hbWU6ICIiDQogICAgICB9LA0KICAgICAgY29udGVudDogIiIsDQogICAgICBpbml0OiB7DQogICAgICAgIGxhbmd1YWdlX3VybDogInRpbnltY2UvbGFuZ3MvemhfQ04uanMiLA0KICAgICAgICBsYW5ndWFnZTogInpoX0NOIiwNCiAgICAgICAgaGVpZ2h0OiA1MDAsDQogICAgICAgIGFzeW5jIGltYWdlc191cGxvYWRfaGFuZGxlcihibG9iSW5mbywgc3VjY2VzcywgZmFpbHVyZSkgew0KICAgICAgICAgIC8vIGxldCBzdHIgPSAiZGF0YTppbWFnZS9qcGc7YmFzZTY0LCIgKyBibG9iSW5mby5iYXNlNjQoKTsNCiAgICAgICAgICBsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsNCiAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoImZpbGUiLCBibG9iSW5mby5ibG9iKCksIGJsb2JJbmZvLmZpbGVuYW1lKCkpOw0KICAgICAgICAgIGxldCB7IGRhdGEgfSA9IGF3YWl0IGF4aW9zLnBvc3QoDQogICAgICAgICAgICAiaHR0cDovLzQ3LjkyLjUwLjQzOjg4ODgvdXNlci91cGxvYWRpbWciLA0KICAgICAgICAgICAgZm9ybURhdGENCiAgICAgICAgICApOw0KICAgICAgICAgIHN1Y2Nlc3MoImh0dHA6Ly80Ny45Mi41MC40Mzo4ODg4L3N0YXRpYy8iICsgZGF0YSk7DQogICAgICAgIH0sDQogICAgICAgIG1lbnViYXI6IHRydWUsDQogICAgICAgIHBsdWdpbnM6IFsNCiAgICAgICAgICAiYWR2bGlzdCBhdXRvbGluayBsaXN0cyBsaW5rIGltYWdlIGNoYXJtYXAgcHJpbnQgcHJldmlldyBhbmNob3IiLA0KICAgICAgICAgICJzZWFyY2hyZXBsYWNlIHZpc3VhbGJsb2NrcyBjb2RlIGZ1bGxzY3JlZW4iLA0KICAgICAgICAgICJpbnNlcnRkYXRldGltZSBtZWRpYSB0YWJsZSBwYXN0ZSBjb2RlIGhlbHAgd29yZGNvdW50Ig0KICAgICAgICBdLA0KICAgICAgICB0b29sYmFyOg0KICAgICAgICAgICJ1bmRvIHJlZG8gfCBmb3JtYXRzZWxlY3QgfGltYWdlIGJvbGQgaXRhbGljIGJhY2tjb2xvciB8IFwNCiAgICAgICAgICAgYWxpZ25sZWZ0IGFsaWduY2VudGVyIGFsaWducmlnaHQgYWxpZ25qdXN0aWZ5IHwgXA0KICAgICAgICAgICBidWxsaXN0IG51bWxpc3Qgb3V0ZGVudCBpbmRlbnQgfCByZW1vdmVmb3JtYXQgfCBoZWxwIg0KICAgICAgfQ0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAgIHNhdmUoKSB7DQogICAgICAvLyAgIGNvbnNvbGUubG9nKHRoaXMuJHJlZnMpOw0KICAgICAgdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKGFzeW5jIHZhbGlkID0+IHsNCiAgICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgICAgbGV0IHJlcyA9IGF3YWl0IHNhdmVBcnRpY2xlKHRoaXMubGVzc29uKTsNCiAgICAgICAgICBpZiAocmVzLmRhdGEuc3VjY2VzcykNCiAgICAgICAgICB7DQogICAgICAgDQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgbWVzc2FnZTogIuS/neWtmOaIkOWKn++8gSIsDQogICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIg0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgdGhpcy5nZXRBcnRpY2xlbGlzdCgpICAgICANCiAgICAgICAgICB9DQogICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgbWVzc2FnZTogIuS/neWtmOWksei0pe+8gSIsDQogICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIg0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgfQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuivt+i+k+WFpeWujOaVtOS/oeaBr++8gSIpOw0KICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgfSwNCiAgY29tcG9uZW50czogew0KICAgIGVkaXRvcjogRWRpdG9yDQogIH0NCn07DQo="},{"version":3,"sources":["tinymce.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"tinymce.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <el-form ref=\"form\"   :model=\"form\" label-width=\"80px\">\r\n      <el-form-item label=\"标题\">\r\n        <el-input v-model=\"form.title\" placeholder=\"请输入\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"分类\">\r\n        <el-select v-model=\"form.sectionname\" placeholder=\"请选择\">\r\n          <el-option label=\"\" value=\"托福\"></el-option>\r\n          <el-option label=\"\" value=\"雅思\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <div class=\"tinymce\" style=\"display:flex;\">\r\n      <div style=\"margin-left: 40px;\">内容</div>\r\n      <div style=\"margin-left: 10px; width:92%;\">\r\n        <editor \r\n          v-model=\"content\"\r\n          :init=\"init\"\r\n          initialValue=\"<p>This is the initial content of the editor</p>\"\r\n        ></editor>\r\n      </div>\r\n    </div>\r\n      <el-button\r\n      type=\"primary\"\r\n      style=\"text-align: center;\"\r\n      @click=\"save\"\r\n    >保 存</el-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {saveArticle} from \"@/api/index.js\";\r\n\r\nimport Editor from \"@tinymce/tinymce-vue\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      form: {\r\n        title: \"\",\r\n        sectionname: \"\"\r\n      },\r\n      content: \"\",\r\n      init: {\r\n        language_url: \"tinymce/langs/zh_CN.js\",\r\n        language: \"zh_CN\",\r\n        height: 500,\r\n        async images_upload_handler(blobInfo, success, failure) {\r\n          // let str = \"data:image/jpg;base64,\" + blobInfo.base64();\r\n          let formData = new FormData();\r\n          formData.append(\"file\", blobInfo.blob(), blobInfo.filename());\r\n          let { data } = await axios.post(\r\n            \"http://47.92.50.43:8888/user/uploadimg\",\r\n            formData\r\n          );\r\n          success(\"http://47.92.50.43:8888/static/\" + data);\r\n        },\r\n        menubar: true,\r\n        plugins: [\r\n          \"advlist autolink lists link image charmap print preview anchor\",\r\n          \"searchreplace visualblocks code fullscreen\",\r\n          \"insertdatetime media table paste code help wordcount\"\r\n        ],\r\n        toolbar:\r\n          \"undo redo | formatselect |image bold italic backcolor | \\\r\n           alignleft aligncenter alignright alignjustify | \\\r\n           bullist numlist outdent indent | removeformat | help\"\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n      save() {\r\n      //   console.log(this.$refs);\r\n      this.$refs.form.validate(async valid => {\r\n        if (valid) {\r\n          let res = await saveArticle(this.lesson);\r\n          if (res.data.success)\r\n          {\r\n       \r\n            this.$message({\r\n              message: \"保存成功！\",\r\n              type: \"success\"\r\n            });\r\n             this.getArticlelist()     \r\n          }\r\n          else {\r\n            this.$message({\r\n              message: \"保存失败！\",\r\n              type: \"success\"\r\n            });\r\n          }\r\n        } else {\r\n          this.$message.error(\"请输入完整信息！\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n  },\r\n  components: {\r\n    editor: Editor\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}